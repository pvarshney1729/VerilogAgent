<ENHANCED_SPEC>
Module Name: TopModule

Interface Specification:
- Input Ports:
  - `clk`: 1-bit clock input signal. All sequential logic is triggered on the positive edge of this signal.
  - `reset`: 1-bit synchronous, active-high reset input. Resets the FSM to state `000` on the next rising edge of `clk` when asserted.
  - `x`: 1-bit input signal determining the transition condition of the FSM.

- Output Ports:
  - `z`: 1-bit output signal representing the FSM output based on the current state.

State Machine Description:
- The FSM uses a 3-bit state register `y[2:0]` where `y[2]` is the most significant bit (MSB) and `y[0]` is the least significant bit (LSB).
- Reset State: On assertion of `reset`, the FSM transitions to state `000` on the next rising clock edge.
- State Transition Table:
  - Present State `y[2:0]` | Next State `y[2:0]` if `x=0` | Next State `y[2:0]` if `x=1` | Output `z`
    - `000` | `000` | `001` | `0`
    - `001` | `001` | `100` | `0`
    - `010` | `010` | `001` | `0`
    - `011` | `001` | `010` | `1`
    - `100` | `011` | `100` | `1`

Operational Details:
- The FSM transitions between states based on the input `x` and the current state `y[2:0]`.
- The output `z` is determined by the current state and is updated on the rising edge of `clk`.
- All operations are synchronous with respect to the clock signal.

Edge Cases and Initial Conditions:
- Upon power-up or reset assertion, the FSM should initialize to state `000` on the next rising edge of `clk`.
- Ensure no race conditions exist as all state transitions and outputs are clocked.

Note: This specification assumes that all inputs are stable around the rising edge of the clock to prevent metastability issues.
</ENHANCED_SPEC>