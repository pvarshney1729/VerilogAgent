{
    "code": "module TopModule (\n    input  logic clk,         // Clock signal (1 bit)\n    input  logic reset,       // Active-high synchronous reset (1 bit)\n    input  logic [2:0] s,     // Water level sensors (3 bits): s[2] (highest), s[1], s[0] (lowest)\n    output logic fr2,         // Flow rate control signal 2 (1 bit)\n    output logic fr1,         // Flow rate control signal 1 (1 bit)\n    output logic fr0,         // Flow rate control signal 0 (1 bit)\n    output logic dfr          // Supplemental flow valve control (1 bit)\n);\n\n    logic [2:0] previous_level;\n\n    always @(posedge clk) begin\n        if (reset) begin\n            fr0 <= 1;\n            fr1 <= 1;\n            fr2 <= 1;\n            dfr <= 0;\n            previous_level <= 3'b000; // Initial state below lowest sensor\n        end else begin\n            previous_level <= s; // Update previous level\n            case (s)\n                3'b111: begin // Above s[2]\n                    fr0 <= 0; \n                    fr1 <= 0; \n                    fr2 <= 0; \n                    dfr <= 0;\n                end\n                3'b110: begin // Between s[2] and s[1]\n                    fr0 <= 1; \n                    fr1 <= 0; \n                    fr2 <= 0; \n                    dfr <= 0;\n                end\n                3'b100: begin // Between s[1] and s[0]\n                    fr0 <= 1; \n                    fr1 <= 1; \n                    fr2 <= 0; \n                    dfr <= 0;\n                end\n                3'b000: begin // Below s[0]\n                    fr0 <= 1; \n                    fr1 <= 1; \n                    fr2 <= 1; \n                    dfr <= 1; // Open supplemental flow valve\n                end\n                default: begin\n                    fr0 <= 0;\n                    fr1 <= 0;\n                    fr2 <= 0;\n                    dfr <= 0;\n                end\n            endcase\n        end\n    end\nendmodule",
    "test_results": {
        "num_mismatch": 1179,
        "passfail": "R"
    }
}