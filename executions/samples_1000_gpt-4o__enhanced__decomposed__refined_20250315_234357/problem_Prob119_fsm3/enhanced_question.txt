```verilog
<ENHANCED_SPEC>
Module Name: TopModule

Interface:
- input  logic clk        // Clock input, positive edge triggered
- input  logic areset     // Asynchronous reset input, active high
- input  logic in         // State machine input, 1-bit
- output logic out        // State machine output, 1-bit

Functional Description:
The module implements a Moore state machine with four states: A, B, C, and D. All sequential logic updates occur on the positive edge of the clock. The state machine has the following characteristics:

1. Asynchronous Reset:
   - The state machine is reset asynchronously to state A when 'areset' is asserted (high).
   
2. State Transitions and Output:
   - The state transitions and output are defined as follows:
     - State A: 
       - Next state is A if 'in' is 0, B if 'in' is 1.
       - Output is 0.
     - State B:
       - Next state is C if 'in' is 0, B if 'in' is 1.
       - Output is 0.
     - State C:
       - Next state is A if 'in' is 0, D if 'in' is 1.
       - Output is 0.
     - State D:
       - Next state is C if 'in' is 0, B if 'in' is 1.
       - Output is 1.

3. Initial State:
   - On power-up and reset, the state machine initializes to state A.

Signal Conventions:
- The machine uses a one-hot encoding scheme for the states.
- Inputs and outputs are single-bit signals. Bit[0] refers to the least significant bit.

Edge Cases:
- Ensure that the asynchronous reset is effective immediately without waiting for the clock edge.

</ENHANCED_SPEC>
```