<ENHANCED_SPEC>
Module Name: TopModule

Port Definitions:
- input  wire clk;            // Clock signal, positive edge triggered
- input  wire aresetn;        // Asynchronous reset, active low
- input  wire x;              // 1-bit input signal
- output reg  z;              // 1-bit output signal, registered

State Machine Description:
- Type: Mealy-type FSM
- Number of States: 3
- State Encoding: Use binary encoding for the three states
  - State 0: IDLE (Initial state after reset)
  - State 1: DETECT_1
  - State 2: DETECT_10

Reset Behavior:
- Reset Type: Negative edge triggered asynchronous reset
- Reset State: On aresetn assertion (low), the FSM transitions to the IDLE state and output z is set to 0.

Clock Domain:
- All sequential logic is triggered on the positive edge of the clock signal (clk).

FSM Operation:
- The FSM detects the sequence "101" on the input signal x.
- Output z is asserted (z = 1) when the complete sequence "101" is detected, even with overlapping sequences.
- State Transitions:
  - From IDLE: 
    - Transition to DETECT_1 on x = 1
    - Remain in IDLE on x = 0
  - From DETECT_1:
    - Transition to DETECT_10 on x = 0
    - Remain in DETECT_1 on x = 1
  - From DETECT_10:
    - Transition to IDLE and assert output z = 1 on x = 1
    - Transition to IDLE and deassert output z = 0 on x = 0

Bit Indexing:
- Bit indexing is not applicable as all input and output ports are single-bit.

Edge Cases:
- Ensure that on reset, the FSM defaults to IDLE and output z is 0.
- Overlapping sequences are detected, meaning the FSM can recognize a new sequence starting within a previously detected sequence.

Note: Ensure all registers and sequential elements are initialized appropriately to ensure correct operation after reset.
</ENHANCED_SPEC>